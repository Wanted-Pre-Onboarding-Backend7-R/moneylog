# 요구사항

## 사용자

### 회원가입 기능
- `이메일`과 `비밀번호`를 입력하여 회원가입할 수 있다.

### 로그인 기능
- 클라이언트에게 JWT(JSON Web Token)를 발급한다.
    - 이후 모든 API 요청 헤더에 JWT가 포함되며 토큰의 유효성을 검증한다.

## 예산

### 카테고리
- `지출 카테고리`를 뜻한다.
- 카테고리 종류는 서비스에서 제공하는 것으로 사용자가 추가/변경/삭제할 수 없다.

### 카테고리 목록 조회 기능
- 모든 카테고리 목록을 반환한다.

### 예산 관리 기능
- 해당 `기간 별 예산`을 설정/변경한다.
- `카테고리`를 필수로 지정해야 한다.
- 비율이 아닌 `액수`로 설정한다.
- `만원 단위`로 설정한다.
    - (ex) 식비: 40만원, 교통: 20만원

### 예산 추천 기능
- 카테고리 별 예산 설정에 어려움이 있는 사용자를 위해 `서비스가 예산을 추천`할 수 있다.
- 사용자가 카테고리 지정 없이 총액을 입력하면, 카테고리 별 예산을 자동 생성한다.
- 자동 생성할 예산 비율은, 기존 유저들이 설정한 비율의 평균 값이다.
- 10% 이하의 카테고리들은 모두 묶어 `기타`로 제공한다.
    - 8% 문화, 7% 레져 -> 15% 기타
- 계산된 비율에 따라 카테고리별 예산 액수을 사용자에게 제공한다.

## 지출 기록

### 지출
- `지출 일시`, `지출 금액`, `카테고리`, `메모`를 입력하여 지출을 생성한다.

### 지출 관리 기능
- 지출 `생성`, `수정`, `읽기(상세)`, `읽기(목록)`, `삭제`, `합계제외` 할 수 있다.
- 지출을 생성한 사용자만 위 기능에 대한 권한을 가진다.
- `읽기(목록)`은 아래 기능을 가진다.
  - `기간`으로 조회한다.
  - 조회된 모든 지출의 `지출 합계`, `카테고리 별 지출 합계`를 같이 반환한다.
  - 특정 `카테고리`만 조회할 수 있다.
  - `최소/최대 금액`을 설정하여 범위에 포함된 지출만 조회할 수 있다.
    - (ex) 0 ~ 10000 or 20000 ~ 100000
  - `합계제외` 처리한 지출은 목록에 포함되지만, `지출 합계`와 `카테고리 별 지출 합계`에서 제외된다.

## 오늘 지출 컨설팅

### 오늘 지출 추천 기능
- 설정한 `월별` 예산을 만족하기 위해 오늘 지출 가능한 금액을 `총액` 과 `카테고리 별 금액` 으로 제공한다.
  - ex) 11월 9일 지출 가능 금액 총 30,000원, 식비 15,000 … 으로 페이지에 노출 예정.
- 고려사항 1. 앞선 일자에서 과다 소비하였다 해서 오늘 예산을 극히 줄이는것이 아니라, 이후 일자에 부담을 분배한다.
  - 앞선 일자에서 하루에 지출 가능한 금액을 1만원 초과했다 하더라도,
  - 오늘 예산이 1만원 줄어드는 것이 아니라 남은 기간 동안 분배해서 부담한다. (10일 남았다면 1천원 씩 분할)
- 고려사항 2. 기간 전체 예산을 초과 하더라도 `0원` 또는 `음수` 의 예산을 추천하지 않는다.
  - 지속적인 소비 습관을 생성하기 위한 서비스이므로 월별 예산을 초과하더라도 생활에 필요한 `최소 금액`을 추천받아야 한다.
  - `최소 금액`을 자유롭게 설정하세요.
- 사용자의 상황에 맞는 `멘트`를 노출한다.
  - 잘 아끼고 있을 때, 적당히 사용 중 일 때, 기준을 넘었을때, 예산을 초과하였을 때 등 유저의 상황에 맞는 메세지를 같이 노출한다.
  - 조건과 기준은 자유롭게 설정하세요.
  - ex) “절약을 잘 실천하고 계세요! 오늘도 절약 도전!” 등
- 15333원과 같은 값이라면 백원 단위 반올림 등으로 사용자 친화적이게 변환한다.

### 오늘 지출 안내 기능
- 오늘 지출한 `총액`과 `카테고리 별 금액`을 조회한다.
- `월별` 설정한 예산 기준 `카테고리 별` 통계 제공
  - 일자기준 오늘 `적정 금액` : 오늘 기준 사용했으면 적절했을 금액
  - 일자기준 오늘 `지출 금액` : 오늘 기준 사용한 금액
  - `위험도` : 카테고리 별 적정 금액, 지출금액의 차이를 위험도로 나타내며 %(퍼센테이지) 입니다.
    - ex) 오늘 사용하면 적당한 금액 10,000원/ 사용한 금액 20,000원 이면 200%

## 통계

### 지출 통계
- `지난 달` 대비 `총액`, `카테고리 별` 소비율.
  - 오늘이 10일차 라면, 지난달 10일차 까지의 데이터를 대상으로 비교
  - ex) `식비` 지난달 대비 150%
- `지난 요일` 대비 소비율
  - 오늘이 `월요일` 이라면 지난 `월요일` 에 소비한 모든 기록 대비 소비율
  - ex) `월요일` 평소 대비 80%
- `다른 유저` 대비 소비율
  - 오늘 기준 다른 `유저` 가 예산 대비 사용한 평균 비율 대비 나의 소비율
  - 오늘기준 다른 유저가 소비한 지출이 평균 50%(ex. 예산 100만원 중 50만원 소비중) 이고 나는 60% 이면 120%.
  - ex) `다른 사용자` 대비 120%
